{"version":3,"sources":["json-pages/index.js"],"names":["ws","WebSocket","ab2str","buf","String","fromCharCode","apply","Uint16Array","onopen","document","querySelector","innerHTML","onmessage","message","data","JSON","parse","endTs","Date","getTime","console","log","timestampE6","timer","window","sendMsg","clearInterval","setInterval","send"],"mappings":"AAAA,IAAIA,EAAE,GAAG,IAAIC,SAAJ,CAAc,0CAAd,CAAT;;AAEA,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;AACnB,SAAOC,MAAM,CAACC,YAAP,CAAoBC,KAApB,CAA0B,IAA1B,EAAgC,IAAIC,WAAJ,CAAgBJ,GAAhB,CAAhC,CAAP;AACD;;AAEDH,EAAE,CAACQ,MAAH,GAAY,YAAM;AAChBC,EAAAA,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCC,SAAtC,GAAkD,4CAAlD;AACD,CAFD;AAIA;;;AAGA;;;AACAX,EAAE,CAACY,SAAH,GAAe,UAAUC,OAAV,EAAmB;AAChC;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACC,IAAnB,CAAb;AAEA,MAAMG,KAAK,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAd;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BJ,KAAK,GAAGH,IAAI,CAACQ,WAAzC,EAAsD,IAAtD,EANgC,CAQhC;AACA;AACA;AACA;AACD,CAZD;;AAcA,IAAIC,KAAK,GAAG,CAAZ;;AACAC,MAAM,CAACC,OAAP,GAAiB,SAASA,OAAT,GAAmB;AAClCC,EAAAA,aAAa,CAACH,KAAD,CAAb;AACAA,EAAAA,KAAK,GAAGI,WAAW,CAAC,YAAM;AAAE3B,IAAAA,EAAE,CAAC4B,IAAH,CAAQ,CAAR;AAAa,GAAtB,EAAwB,IAAxB,CAAnB;AACD,CAHD","file":"json-pages.df7a23ee.js","sourceRoot":"../web","sourcesContent":["var ws = new WebSocket('wss://ws-js-pb-server.herokuapp.com/json');\n\nfunction ab2str(buf) {\n  return String.fromCharCode.apply(null, new Uint16Array(buf));\n}\n\nws.onopen = () => {\n  document.querySelector('.status-txt').innerHTML = '<span style=\"color:green\">Connected</span>';\n};\n\n/**\n * Use arrayBuffer\n */\n// ws.binaryType = 'arraybuffer';\nws.onmessage = function (message) {\n  // const start = performance.now();\n\n  const data = JSON.parse(message.data);\n\n  const endTs = new Date().getTime();\n  console.log('full span = ', endTs - data.timestampE6, 'ms');\n\n  // const msg = ab2str(message.data);\n  // console.log('msg = ', msg);\n  // const end = performance.now();\n  // console.log('span = ', end - start, 'ms');\n};\n\nlet timer = 0;\nwindow.sendMsg = function sendMsg() {\n  clearInterval(timer);\n  timer = setInterval(() => { ws.send(1); }, 2000);\n}"]}