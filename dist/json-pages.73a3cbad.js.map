{"version":3,"sources":["json-pages/index.js"],"names":["ws","WebSocket","ab2str","buf","String","fromCharCode","apply","Uint16Array","onopen","document","querySelector","innerHTML","onmessage","message","data","JSON","parse","endTs","Date","getTime","console","log","timestampE6","timer","window","sendMsg","clearInterval","setInterval","send"],"mappings":";AAAA,IAAIA,EAAK,IAAIC,UAAU,4CAEvB,SAASC,EAAOC,GACPC,OAAAA,OAAOC,aAAaC,MAAM,KAAM,IAAIC,YAAYJ,IAGzDH,EAAGQ,OAAS,WACVC,SAASC,cAAc,eAAeC,UAAY,8CAOpDX,EAAGY,UAAY,SAAUC,GAGjBC,IAAAA,EAAOC,KAAKC,MAAMH,EAAQC,MAE1BG,GAAQ,IAAIC,MAAOC,UACzBC,QAAQC,IAAI,eAAgBJ,EAAQH,EAAKQ,YAAa,OAQxD,IAAIC,EAAQ,EACZC,OAAOC,QAAU,WACfC,cAAcH,GACdA,EAAQI,YAAY,WAAQ3B,EAAG4B,KAAK,IAAO","file":"json-pages.73a3cbad.js","sourceRoot":"../web","sourcesContent":["var ws = new WebSocket('wss://ws-js-pb-server.herokuapp.com/json');\n\nfunction ab2str(buf) {\n  return String.fromCharCode.apply(null, new Uint16Array(buf));\n}\n\nws.onopen = () => {\n  document.querySelector('.status-txt').innerHTML = '<span style=\"color:green\">Connected</span>';\n};\n\n/**\n * Use arrayBuffer\n */\n// ws.binaryType = 'arraybuffer';\nws.onmessage = function (message) {\n  // const start = performance.now();\n\n  const data = JSON.parse(message.data);\n\n  const endTs = new Date().getTime();\n  console.log('full span = ', endTs - data.timestampE6, 'ms');\n\n  // const msg = ab2str(message.data);\n  // console.log('msg = ', msg);\n  // const end = performance.now();\n  // console.log('span = ', end - start, 'ms');\n};\n\nlet timer = 0;\nwindow.sendMsg = function sendMsg() {\n  clearInterval(timer);\n  timer = setInterval(() => { ws.send(1); }, 2000);\n}"]}